<div class="container mt-4">

  <h2 class="text-center mb-3">Liste des suggestions</h2>

  <!-- üîç Barre de recherche -->
  <input
    type="text"
    class="form-control mb-4"
    placeholder="Rechercher par titre ou cat√©gorie"
    [(ngModel)]="searchText">

  <table class="table table-striped table-hover align-middle">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Titre</th>
        <th>Cat√©gorie</th>
        <th>Date</th>
        <th>Status</th>
        <th>Likes</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let s of filteredSuggestions">
        <td>{{ s.id }}</td>

        <td>
          <strong>{{ s.title }}</strong><br>
          <small class="text-muted">{{ s.description }}</small>
        </td>

        <td>{{ s.category }}</td>
        <td>{{ s.date | date:'yyyy-MM-dd' }}</td>

        <td>
          <span
            class="badge"
            [ngClass]="{
              'bg-success': s.status === 'acceptee',
              'bg-danger': s.status === 'refusee',
              'bg-warning text-dark': s.status === 'en_attente'
            }">
            {{ s.status }}
          </span>
        </td>

        <td>{{ s.nbLikes }}</td>

        <td>
          <ng-container *ngIf="s.status !== 'refusee'">
            <button class="btn btn-outline-primary btn-sm me-2" (click)="like(s)">
              üëç Like
            </button>
            <button class="btn btn-outline-warning btn-sm" (click)="addToFavorites(s)">
              ‚≠ê Favori
            </button>
          </ng-container>
        </td>
      </tr>
    </tbody>
  </table>

</div>
